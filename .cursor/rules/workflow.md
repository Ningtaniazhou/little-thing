# 工作流规范

## 核心原则

每一个功能开发或重大修改都遵循 **计划 → 审阅 → 实现** 的三步工作流。
不要在没有确认计划的情况下直接写代码。

## 工作流程

### 1. 计划阶段 (Plan)

- 切换到 **Plan 模式**
- 撰写详细的实现计划，包括：
  - 目标：要解决什么问题 / 实现什么功能
  - 方案：技术选型、架构设计、关键实现思路
  - 步骤：拆分为可执行的具体步骤
  - 风险：可能遇到的问题和应对方案
- 将计划写入 `docs/` 目录或直接在对话中呈现
- 等待用户审阅确认

### 2. 审阅阶段 (Review)

- 用户审阅计划，提出修改意见
- 根据反馈调整计划
- 获得用户明确确认后（如"可以开始"/"LGTM"），进入实现阶段

### 3. 实现阶段 (Implement)

- 切换到 **Agent 模式**
- 按照确认的计划逐步实现
- 每完成一个阶段进行自检
- 遇到计划外的问题时，暂停并和用户沟通

## 沟通规范

- 使用中文进行所有交流
- 代码注释使用英文
- 文档根据内容语境选择中文或英文

## 代码规范

- 使用 TypeScript，开启严格模式
- 使用 ESLint + Prettier 统一代码风格
- 组件采用函数式组件 + Hooks
- 文件命名使用 kebab-case
- 组件命名使用 PascalCase
- CSS 使用 Tailwind CSS 优先，复杂动画可用 CSS Modules

## 项目结构约定

```
little-thing/
├── .cursor/           # Cursor 配置
│   └── rules/         # 工作流规范
├── docs/              # 文档（需求、计划等）
├── reference/         # 参考资料（原版代码等）
├── src/               # 源码（Next.js App Router）
│   ├── app/           # 页面和 API 路由
│   ├── components/    # UI 组件
│   ├── lib/           # 工具函数、LLM adapter 等
│   ├── assets/        # 静态资源（SVG、图片）
│   └── styles/        # 全局样式
├── public/            # 公共静态资源
└── package.json
```
